<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MVC Design Pattern</title>
</head>
<body>
    <h3>計數器</h3>
    <div id="counter1"></div>
    <button onclick="add()">Add</button>
    <button onclick="minus()">Minus</button>
    <div id="counter2"></div>
    <button onclick="add()">Add</button>
    <button onclick="minus()">Minus</button>
    <script>
        function Counter(data, container){
            let model = {
                data: null,
                init: function(data){
                    this.data = data;
                },
                add: function(){
                    this.data += 1;
                },
                minus: function(){
                    this.data -= 1;
                },
            };
            let view = {
                render: function(){
                    container.textContent = model.data;
                },
            }; 
            let controller = {
                init: function(data){
                    model.init(data);
                    view.render(model.data);
                },
                add: function(){
                    model.add();
                    view.render(model.data);
                },
                minus: function(){
                    model.minus();
                    view.render(model.data);
                },
            };
        }
        let counter1 = Counter(15, ducument.querySelector('#counter1'));
        let counter2 = Counter(4, ducument.querySelector('#counter2'));






        
        /*  
        function add() {
            const counter = document.querySelector('#counter');
            let count = parseInt(counter.textContent);
            count += 1;
            counter.textContent = count;
        }
        function minus() {
            const counter = document.querySelector('#counter');
            let count = parseInt(counter.innerText);
            count -= 1;
            counter.innerText = count;
        }
        */
        /* 
            Code Responsibility
            Model: Manages the data and business logic of the application.
            View: Handles the presentation layer and user interface.
            Controller: Acts as an intermediary between the Model and View, processing user input and updating the Model and View accordingly.
         */


        // Model
        class Model {
            constructor() {
                this.data = [];
            }

            addData(item) {
                this.data.push(item);
                this.notify();
            }

            getData() {
                return this.data;
            }

            notify() {
                // Notify the view about the data change
                if (this.view) {
                    this.view.update(this.data);
                }
            }

            setView(view) {
                this.view = view;
            }
        }

        // View
        class View {
            constructor() {
                this.app = document.getElementById('app');
            }

            update(data) {
                this.app.innerHTML = '';
                data.forEach(item => {
                    const div = document.createElement('div');
                    div.textContent = item;
                    this.app.appendChild(div);
                });
            }
        }

        // Controller
        class Controller {
            constructor(model, view) {
                this.model = model;
                this.view = view;
                this.model.setView(this.view);
            }

            addItem(item) {
                this.model.addData(item);
            }
        }

        // Initialize MVC components
        const model = new Model();
        const view = new View();
        const controller = new Controller(model, view);

        // Example usage
        controller.addItem('Item 1');
        controller.addItem('Item 2');
    </script>
</body>
</html>


